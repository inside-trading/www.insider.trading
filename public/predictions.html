<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>insider.trading</title>
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lightweight-charts@4.1.0/dist/lightweight-charts.standalone.production.js"></script>
    <link rel="stylesheet" href="css/predict.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <a href="/" class="logo">insider.trading</a>
        <nav class="nav">
            <a href="/">swap</a>
            <a href="/predictions.html" class="active">predict</a>
        </nav>
        <button class="wallet-btn" id="walletBtn">connect wallet</button>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Chart Section -->
        <section class="chart-section">
            <!-- Controls Bar -->
            <div class="controls">
                <div class="asset-picker">
                    <button class="asset-btn" id="assetBtn">
                        <span class="asset-symbol" id="assetSymbol">SPY</span>
                        <span class="asset-price" id="assetPrice">--</span>
                        <svg class="chevron" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"/></svg>
                    </button>
                    <div class="asset-dropdown" id="assetDropdown">
                        <div class="asset-group">
                            <div class="asset-group-label">Stocks</div>
                            <button data-symbol="SPY">SPY <span>S&P 500</span></button>
                            <button data-symbol="QQQ">QQQ <span>Nasdaq</span></button>
                            <button data-symbol="AAPL">AAPL <span>Apple</span></button>
                            <button data-symbol="TSLA">TSLA <span>Tesla</span></button>
                            <button data-symbol="NVDA">NVDA <span>NVIDIA</span></button>
                            <button data-symbol="MSFT">MSFT <span>Microsoft</span></button>
                        </div>
                        <div class="asset-group">
                            <div class="asset-group-label">Crypto</div>
                            <button data-symbol="BTC-USD">BTC <span>Bitcoin</span></button>
                            <button data-symbol="ETH-USD">ETH <span>Ethereum</span></button>
                            <button data-symbol="SOL-USD">SOL <span>Solana</span></button>
                        </div>
                        <div class="asset-group">
                            <div class="asset-group-label">Commodities</div>
                            <button data-symbol="GC=F">GOLD <span>Gold</span></button>
                            <button data-symbol="CL=F">OIL <span>Crude Oil</span></button>
                        </div>
                    </div>
                </div>

                <div class="time-picker">
                    <button data-range="1D">1D</button>
                    <button data-range="1W" class="active">1W</button>
                    <button data-range="1M">1M</button>
                    <button data-range="1Y">1Y</button>
                    <button data-range="5Y">5Y</button>
                </div>

                <div class="change-display">
                    <span class="change-value" id="changeValue">--</span>
                </div>
            </div>

            <!-- Chart Container -->
            <div class="chart-container" id="chartContainer">
                <div class="chart-area" id="chartArea"></div>
                <canvas class="draw-canvas" id="drawCanvas"></canvas>
                <div class="chart-loading" id="chartLoading">
                    <div class="spinner"></div>
                </div>
                <div class="draw-prompt" id="drawPrompt">
                    <div class="prompt-content">
                        <div class="prompt-icon">✏️</div>
                        <div class="prompt-text">Click and drag to draw your prediction</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Prediction Panel -->
        <section class="predict-section">
            <div class="predict-panel">
                <div class="predict-row">
                    <label>Your Prediction</label>
                    <div class="predict-value">
                        <span id="predictedPrice">--</span>
                        <span class="predict-change" id="predictedChange"></span>
                    </div>
                </div>
                <div class="predict-row">
                    <label>Expires</label>
                    <div class="predict-value" id="expiryDate">--</div>
                </div>
                <div class="predict-row stake-row">
                    <label>Stake Amount</label>
                    <div class="stake-input-wrap">
                        <input type="number" id="stakeInput" value="100" min="1" max="10000">
                        <span class="stake-currency">INSD</span>
                    </div>
                </div>
                <div class="predict-row">
                    <label>Max Payout</label>
                    <div class="predict-value payout" id="maxPayout">1,000 INSD</div>
                </div>
                <button class="submit-btn" id="submitBtn" disabled>
                    <span>Draw prediction to continue</span>
                </button>
                <button class="clear-btn" id="clearBtn">Clear Drawing</button>
            </div>
        </section>

        <!-- Leaderboard -->
        <section class="leaderboard-section">
            <h2>Leaderboard</h2>
            <div class="leaderboard-tabs">
                <button class="active" data-tab="active">Active</button>
                <button data-tab="settled">Settled</button>
                <button data-tab="top">Top Traders</button>
            </div>
            <div class="leaderboard-table" id="leaderboard">
                <div class="leaderboard-header">
                    <span>Trader</span>
                    <span>Asset</span>
                    <span>Prediction</span>
                    <span>Stake</span>
                    <span>Status</span>
                </div>
                <div class="leaderboard-body" id="leaderboardBody">
                    <div class="empty-state">No predictions yet. Be the first!</div>
                </div>
            </div>
        </section>
    </main>

    <script src="js/config.js"></script>
    <script src="js/predict.js"></script>
</body>
</html>
